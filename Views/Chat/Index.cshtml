@page

<link rel="stylesheet" href="~/css/chat.css" />

<!-- #region Info button:-->
<section class="page-info">
    <div class="info-button" id="button-info">View&nbsp;Page&nbsp;Info</div>
    <article>
        Message others here!
    </article>
</section>
<!-- #endregion -->

<div class="chat-board">Chat</div>
<div id="datalistHolder">
    <!--INSERT USER-LIST DATALIST HERE-->
</div>

<div class="chat-container">
    <div class="left-chat-content">
        <!--  #region CREATE NEW CHAT-->
        <div class="create-chat-section">
            <h4> Create New Chat</h4>
            <form action="javascript:void(0);" method="POST" onsubmit="addNewChat()" class="add-pple">
                <!--Displays added chat members-->
                <div id="userChat-display"></div>

                <div id="userChat-hidden-holder"></div>

                <!--Add chat memeber section-->
                <div class="input-group">
                    <input class="form-control" id="chatUser-input" list="user-list" name="selectedChatUsersInitalCreate" placeholder="Add people to a new chat...">
                    <div class="input-group-append">
                        <input class="btn btn-sm btn-secondary" type="button" id="more_collab" onclick="add_chatUser();" value="Add Chat Member" />
                    </div>
                </div>
                <!--Create chat section-->
                <div class="input-group">
                    <input class="form-control" name="StartingMessage" placeholder="Enter your starting message here..." id="staringMessage">
                    <div class="input-group-append">
                        <input type="submit" value="Create Chat" class="btn btn-sm btn-primary" />
                    </div>
                </div>

            </form>
        </div>
        <!-- #endregion-->
        <!-- #region DISPLAY THE CHATS -->
        <div class="private-container">
            <div class="private-talk">
                <p>Private conversations</p>
            </div>
            <div class="private-talk-content">
                <div id="privateChatsHolder">
                    <!--INSERT PRIVATE CHATS HERE-->
                </div>
            </div>
        </div>


        <div class="group-container">
            <div class="group-talk">
                <p>Group conversations</p>
            </div>
            <div class="group-talk-content">
                <div id="groupChatsHolder">
                    <!--INSERT GROUP CHATS HERE-->
                </div>
            </div>
        </div>
    </div>
    <!-- #endregion-->


    <!-- #region Chat Messages area-->
    <div id="chat-message-container">

        <!-- #region Delete Group/Leave Group
                A.Input/Preprocessing:
                - determine what chat was selected
                - Display option to leave the chat
                    (DeleteChatUser form if chatusers > 3 else DeleteChat form)

                B.Processing

                C. Output
                [ChatID selectedChatID]
                [UserID currentUser]
                ==>> Delete selected chat, closes the open chat
                -->

        <div class="ChatUser-showcase">
            <div class="removeOrLeave">
            </div>
            <!-- #endregion-->
            <!-- #endregion-->
            <!-- #region UPDATE CHAT: ADD USERES -->
        </div>
        <br /> <br /> <br />
        <!--#endregion-->
        <!-- #region Display Messages-->
        <div class="messages-container">
            <div id="displayed-chat">

            </div>

            <!-- #endregion-->
        </div>
        <!-- #endregion -->

    </div>
</div>

<script src="~/js/chatapi.js"></script>

<script src="~/js/site.js"></script>

<script>
    window.onload = function () {
        var objDiv = document.getElementById("chat-message-container");
        objDiv.scrollTop = objDiv.scrollHeight;
    }
</script>