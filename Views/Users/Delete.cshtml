@model ConstellationWebApp.Models.User
@using System.Security.Claims;
<link rel="stylesheet" href="~/css/users.general.css" />


<div class="users-general-container">

    <div class="delete-users-header">Do You want to Delete Your Account?</div>
    <div class="users-general-content">

        @{
            ViewData["Title"] = "Delete User";
            var currentUser = this.User.FindFirstValue(ClaimTypes.NameIdentifier);
            var photoPath = "";
            if (Model.PhotoPath != null)
            {
                photoPath = "~/image/" + Model.PhotoPath;
            }
            else
            {
                photoPath = "~/WebAssests/siteImages/avataricon.png";
            }
        }


        @*notes to check*@

        @if (currentUser == Model.Id)
        {
            <p>You will remove all your job postings, projects, and data linked to the account.</p>

         
                    <dl class="row">
                        <dt class="col-sm-2">
                            @Html.DisplayNameFor(model => model.UserName)
                        </dt>
                        <dd class="col-sm-10">
                            @Html.DisplayFor(model => model.UserName)
                        </dd>
                        <dt class="col-sm-2">
                            @Html.DisplayNameFor(model => model.FirstName)
                        </dt>
                        <dd class="col-sm-10">
                            @Html.DisplayFor(model => model.FirstName)
                        </dd>
                        <dt class="col-sm-2">
                            @Html.DisplayNameFor(model => model.LastName)
                        </dt>
                        <dd class="col-sm-10">
                            @Html.DisplayFor(model => model.LastName)
                        </dd>
                    </dl>
                    <div class="card-footer">
                        <form asp-action="Delete">
                            <input type="hidden" asp-for="Id" />
                            <input type="submit" value="Delete" class="btn btn-sm btn-danger" />
                            <a style="text-decoration: none;" class="btn btn-sm btn-secondary" asp-action="Index">Back to List</a>
                        </form>
                    </div>
       

        }
        else
        {
            <div class="d-flex shadow padding text-center">
                <h2>You do not own this account, Log In as this User to Delete.</h2>
                <a style="text-decoration: none;" class="btn btn-md btn-secondary" asp-action="Index">Back to List</a>
            </div>
        }
    </div>

</div>